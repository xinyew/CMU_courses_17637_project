{% extends 'dallf/base.html' %} {% block page-title %}Console{% endblock %}

{% block navigation %}
<a class="nav-link" href="{% url 'gallery' %}">
  Gallery
</a>
<a class="nav-link active" href="{% url 'console' %}">
  Console
</a>
{% endblock %}

{% block content %}

<div class="div_prompt_input" id="id_prompt_input_div">
  <form action="" method="post">
    <label for="id_prompt_input_text">Prompt: </label>
    <input
      type="text"
      name="prompt_input"
      id="id_prompt_input_text"
      value="{{ prompt_input }}" />
    <br />
    <br />
    <label for="id_prompt_num_input">Number: </label>
    <input
      type="range"
      min="1"
      max="4"
      value="1"
      name="num_input"
      id="id_prompt_num_input" />
    <br />
    <br />
    <label for="id_prompt_size_input">Size: </label>
    <select name="size_input" id="id_prompt_size_input">
      <option value="256x256">256x256</option>
      <option value="512x512">512x512</option>
      <option value="1024x1024">1024x1024</option>
    </select>
    <br />
    <br />
    <button type="submit" class="button" id="id_prompt_submit_button">
      submit
    </button>
    {% csrf_token %}
  </form>
</div>

<div>
  Current Prompt
  <br />
  {% for image in current_prompt.image_set.all %}
  <img src="{{image.file.url}}" />
  <br />
  <form action="/favorite/" method="post">
    <input type="hidden" name="image_id" value="{{image.id}}">
    <button type="submit" class="button">Favorite</button>
    {% csrf_token %}
  </form>
  <br />
  <form action="/label/" method="post">
    <input type="hidden" name="image_id" value="{{image.id}}" />
    <input type="text" name="label_name" />
    <button type="submit" class="button">Label</button>
    {% csrf_token %}
  </form>
  <br />
  {% endfor %}
</div>
<div>
  Recent Prompts
  <br />
  {% for image in recent_images %}
  <img src="{{image.file.url}}" width="256" height="256" />
  {% endfor %}
  <br />
</div>
<div>
  Favorites
  <br />
  {% for image in favorites.all %}
  <img src="{{image.file.url}}" width="256" height="256" />
  {% endfor %}
</div>
<div>
  Images with label
  <br />
  {% for label in label_image_set %}
  {{label.text}}
  <br />
  {% for image in label.image_set.all %}
  <img src="{{image.file.url}}" width="256" height="256" />
  {% endfor %}
  <br />
  {% endfor %}
</div>
{% endblock %}
